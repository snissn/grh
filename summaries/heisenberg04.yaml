a2a_doc:
  meta:
    title_long: "Heisenberg Holonomy IV: Adelic Modulus, Holonomy, and the Explicit Formula"
    title_short: "Heisenberg Holonomy IV"
    authors: "Michael Seiler"
    venue: "Preprint (CC BY 4.0)"
    year: 2025
    version: "v1 (2025-09-03)"
    url: "https://orcid.org/0009-0009-5529-2008"
    area: "analytic number theory; adelic harmonic analysis; Heisenberg geometry"
    msc: { primary: "11M26", secondary: ["11F72","22E27","53C17"] }
    normalization: "Mellin-symmetric (GL(1)): primes at critical p^{-n/2}; archimedean via Î“_R(s); host orientation Î±_H=dÎ¸"
    primary_objects:
      - name: "H^1(â„š_v)"
        type: "Heisenberg group (local)"
        role: "local geometric stage; carries canonical holonomy functional"
      - name: "H^1(ğ”„_â„š)"
        type: "adelic Heisenberg manifold"
        role: "global space assembling local geometries"
      - name: "â„_{>0}^Ã—"
        type: "modulus line (scale)"
        role: "global scaling parameter; probed by test profiles"
      - name: "ğ’Ÿ_v^{comb}"
        type: "distribution/functional"
        role: "canonical local holonomy on H^1(â„š_v)"
      - name: "W_Î¦(u)"
        type: "scale-profile test function"
        role: "probes holonomy along modulus"
      - name: "ğ’¬_MS(g)"
        type: "scalar functional"
        role: "total adelic holonomy; equals geometric side of EF"
      - name: "ğ’œ(g), ğ’«(g)"
        type: "decomposition terms"
        role: "archimedean/primes blocks of geometric EF"
    normalization_sheet:
      finite_places:
        euler_factors: "L_p(s)=âˆ_{j}(1âˆ’Î±_{p,j}p^{âˆ’s})^{-1}; for Î¶: L_p(s)=(1âˆ’p^{-s})^{-1}"
        measure: "Dirac comb D_p(u)=Î£_{kâ‰¥1}(log p)Â·Î´(uâˆ’k log p); âŸ¨D_p,WâŸ©=Î£_{kâ‰¥1}(log p)W(k log p)"
        satake_params: "GL(1) Satake parameters Î±_{p,j}; for Î¶: Î±_{p,1}=1 (unramified)"
      arch_place:
        scattering_matrix: "Î³_âˆ(s)=Î“_R(s)=Ï€^{-s/2}Â·Î“(s/2)"
        pv_convention: "Principal value on S^1 for singular kernels (Hilbert transform), host form Î±_H=dÎ¸"
        spectral_measure: "Half-line cosine variable Î¾ with Lebesgue dÎ¾; s=1/2+iÎ¾ on the spectral side"
      dictionary_constants:
        note: "proportionalities between scale-profile side and Fourier/Mellin side"
        example: "W_Î¦(u)=(1/Ï€)(1âˆ’e^{âˆ’u})Â·Ä_b(2u)  â‡’ c_* = 1/Ï€  (cosine profile Ä_b)"
    identities_checked:
      - "Finite places: Dirac comb D_p (eq. (1), Part IV)"
      - "Archimedean density Ï_W via Î“_R (eq. (2), Part IV)"
      - "Weil test on the half-line W(u)=(1/Ï€)(1-e^{-u})Â·Ä_b(2u) (eq. (3), Part IV)"
      - "Adelic holonomy = explicit formula (Theorem 1.1 / eq. (4), Part IV)"
    asks: "If any constant differs from a standard reference (cite), document and justify."

  problem_and_claim:
    problem: "Adelize the Heisenberg-holonomy framework (Iâ€“III), identify the global modulus line, and realize the geometric side of the Weil explicit formula as total adelic holonomy."
    core_claims:
      - {id: C1, name: "Local holonomy", status: proved, statement: "Each place v admits a canonical holonomy functional ğ’Ÿ_v^{comb} on H^1(â„š_v).", src: "paper:general"}
      - {id: C2, name: "Adelic assembly", status: proved, statement: "Assembling {ğ’Ÿ_v^{comb}} over all v yields a global holonomy ğ’¬_MS(g) along â„_{>0}^Ã—.", src: "paper:general"}
      - {id: C3, name: "Explicit formula (geom.)", status: proved, statement: "ğ’¬_MS(g) equals the geometric side of the explicit formula, decomposing as ğ’œ(g)+ğ’«(g).", src: "paper:general"}
      - {id: C4, name: "Scale profiles", status: proved, statement: "Tests W_Î¦(u) realize scale profiles that probe holonomy and isolate EF contributions.", src: "paper:general"}
    route_map:
      - {id: R1, name: "Localâ†’global holonomy", inputs: "[H^1(â„š_v), ğ’Ÿ_v^{comb}]", output: "ğ’¬_MS(g)", status: proved}
      - {id: R2, name: "Scale-profile calculus", inputs: "[W_Î¦, modulus]", output: "block decomposition ğ’œ+ğ’«", status: proved}
    asks: "Provide a one-paragraph â€˜why nowâ€™ and identify the minimal new ingredient vs Papers Iâ€“III."

  notation:
    symbols:
      â„š: "rationals"
      ğ”„_â„š: "adeles of â„š"
      v: "place (finite/âˆ)"
      H^1(â€“): "3D Heisenberg group"
      â„_{>0}^Ã—: "modulus line (log-scale u)"
      Î¦: "primary test on modulus; induces W_Î¦"
      g, Ä: "g even; Ä_b = cosine transform on [0,âˆ); u=log x; s=1/2+iÎ¾ with Î¾ the cosine-Fourier variable"
      ğ’Ÿ_v^{comb}: "local holonomy functional"
      ğ’¬_MS(g): "total adelic holonomy"
      ğ’œ(g), ğ’«(g): "arch/primes terms in EF (geom.)"
    equivalences:
      Mellin-Fourier: "uâ†”Î¾ via (F_c W)(Î¾)=âˆ«_0^âˆ W(u)cos(2uÎ¾)du; spectral side s=1/2+iÎ¾; host kernel Î±_C=JÂ·Î±_H on |z|=1 and dz=JÂ·zÂ·Î±_H"
    asks: "State domains/codomains explicitly (e.g., W_Î¦: â„â†’â„), and any hidden identifications (e.g., X=G/K, spherical Fourier side)."

  spaces_and_classes:
    classes:
      - id: S1
        name: "Test profiles"
        def: "W_Î¦ on log-scale u with regularity/decay suitable for EF pairings."
        norms: "T_Î±([0,âˆ)), Î±>1/2: sup_{uâ‰¥0} e^{Î±u}|âˆ‚^k W(u)|<âˆ (all k); stable under E_a and C_{1/2}=(Idâˆ’E_{1/2})(Idâˆ’E)^{-1} with kernel T_{1/2}(x)=(1+e^{âˆ’x/2})^{-1}"
      - id: S2
        name: "Adelic test data"
        def: "Restricted tensor products across v compatible with ğ’Ÿ_v^{comb}."
        norms: "Restricted tensor product across places; finite v via Dirac-comb pairing; arch v via cosine side; absolute convergence under T_Î±"
    asks: "Give minimal examples/counterexamples for S1,S2 (e.g., compact support vs Schwartz)."

  assumptions:
    items:
      - {id: A1, statement: "Regularity/decay of Î¦ ensuring absolute convergence of pairings âŸ¨ğ’Ÿ_v^{comb}, W_Î¦âŸ©.", params: "Î¦ âˆˆ ?; decay exponents ?", proved_here: TRUE, proof_src: "paper:general", portability: "likely across GL(1) variants"}
      - {id: A2, statement: "Product formula/compatibility of local normalizations to form H^1(ğ”„_â„š).", params: "measures, Haar Ã— counting", proved_here: UNKNOWN, proof_src: UNKNOWN, portability: "adelic standard"}
    counterexamples_or_limits: "Weak decay may break convergence of Î£_v terms."
    asks: "Clarify sharpness of decay and portability to other normalizations."

  constructions_and_kernels:
    defs:
      - id: K1
        name: "Local holonomy"
        formula: "ğ’Ÿ_v^{comb}: ğ’®(H^1(â„š_v))' with canonical invariance; exact symbol UNKNOWN."
        props: "pos/PSD UNKNOWN; boundedness on model space UNKNOWN."
      - id: K2
        name: "Total holonomy"
        formula: "ğ’¬_MS(g)=Î£_vâŸ¨ğ’Ÿ_v^{comb}, W_Î¦âŸ©"
        factorization: "splits ğ’œ(g)+ğ’«(g)"
    compatibility_checklist:
      commute: "UNKNOWN"
      weyl_invariance: "UNKNOWN"
      boundedness: "UNKNOWN"
      model_independence: "Expected via unitary equivalence; proof cite UNKNOWN."
    asks: "State functional calculus used and where symbol bounds enter."

  explicit_formula_block:
    geometric_side:
      total: "ğ’¬_MS(g)=ğ’œ(g)+ğ’«(g)"
      arch_piece: "ğ’œ(g) from v=âˆ"
      primes_piece: "ğ’«(g) from finite v"
      regularizations: "Distributional pairing; archimedean side via (F_c W) against d/dÎ¾ log Î“_R; no extra PV for the finite comb"
    spectral_side:
      zeros_sum: "Î£_Ï H(g;Ï) (nontrivial zeros counted with multiplicity)"
      gamma_terms: "archimedean/trivial terms from Î“_R(s) (Mellin-symmetric ledger)"
      constants: "Prime normalization at critical p^{-n/2}; âŸ¨D_âˆ,WâŸ©=âˆ’ğ’œ(g); âŸ¨D_p,WâŸ© builds ğ’«(g)"
    weil_functional_GL1:
      rho_W: "Ï_W(Î¾)=âˆ’(1/Ï€)Â·d/dÎ¾[log Î“_R(1/2+iÎ¾)+log Î“_R(1/2âˆ’iÎ¾)]  (arch density)"
    ramified_ledger:
      when_present: "finite v with ramification (here Î¶: none)"
      sign: "n/a for Î¶ (all finite p unramified); in general, twisted finite blocks follow character weights"
      bound: "finite set at ramified p; contributions uniformly controlled for T_Î± tests"
      vanishing_cases: "Î¶: all finite p unramified; twists: D_{p,Ï‡}(u)=Î£_{kâ‰¥1}(log p)Ï‡(p)^k Î´(uâˆ’k log p), and at âˆ use Db_{âˆ,Ï‡}(Î¾)=âˆ’âˆ‚_Î¾ log[Î“_âˆ(1/2+iÎ¾,Ï‡_âˆ)Î“_âˆ(1/2âˆ’iÎ¾,Ï‡_âˆ)] (Part IV Â§6)"
    positivity_table:
      - term: "prime"
        status: "â‰¥ 0"
        cond: "for autocorrelations g=g_Î¦ after the Mellinâ€“torsion filter C_{1/2}"
      - term: "arch"
        status: "â‰¤ 0"
        cond: "for autocorrelations g=g_Î¦ after the Mellinâ€“torsion filter C_{1/2}"
    asks: "Specify which terms are â‰¥0 under which test classes; give exact rho_W."

  main_results:
    results:
      - {id: T1, name: "Adelic holonomy = EF geom.", statement: "ğ’¬_MS(g)=ğ’œ(g)+ğ’«(g).", conditions: "[A1â€“A2,S1â€“S2]", dependencies: "[C1â€“C2,K1â€“K2]", status: proved, src: "paper:general"}
      - {id: P1, name: "Local canonical holonomy", statement: "Existence/uniqueness (up to scale) of ğ’Ÿ_v^{comb}.", conditions: "[normalization sheet]", dependencies: "[structure of H^1(â„š_v)]", status: proved, src: "paper:general"}
      - {id: P2, name: "Scale-profile calculus", statement: "W_Î¦ isolates modulus contributions.", conditions: "[Î¦ regularity]", dependencies: "[Fourier/Mellin dictionary]", status: proved, src: "paper:general"}
    asks: "Give one-line invariant-theoretic reason for each positivity claim."

  dependency_graph:
    nodes: [A1,A2,S1,S2,K1,K2,C1,C2,C3,C4,T1,P1,P2]
    edges:
      - "A1 -> T1"
      - "A2 -> T1"
      - "S1 -> T1"
      - "S2 -> T1"
      - "K1 -> C1"
      - "C1 -> C2"
      - "K2 -> C3"
      - "C2 -> C3"
      - "C4 -> T1"
      - "P1 -> C1"
      - "P2 -> C4"
    asks: "Mark any optional branches/cycles."

  proof_skeletons:
    items:
      - id: SK1
        for: T1
        steps:
          - "Local: define ğ’Ÿ_v^{comb} with chosen Haar/normalizations."
          - "Assemble: restricted product across v; define ğ’¬_MS(g)."
          - "Pairing: evaluate âŸ¨ğ’Ÿ_v^{comb}, W_Î¦âŸ©; identify arch vs prime."
          - "Summation: justify Î£_v convergence/absolute bounds."
          - "Identification: match ğ’œ(g), ğ’«(g) with EF geometric terms."
        fragile_step: "Convergence/justification of exchanging sums/integrals (Î£_v with transforms)."
        alt_route: "Poisson summation on Heisenberg lattice model, then pass to adeles."
    asks: "What unique step fails first in higher rank?"

  limits_and_continuity:
    t_to_0_passages: "not used in Part IV (fixed-modulus-line formulation; no heat-time parameter)"
    density_args: "Use T_Î±([0,âˆ)) (Î±>1/2) and the E_a-family to approximate by compact support; dominated convergence applies"
    constants_table:
      - {name: "C_loc(v)", origin: "local bounds on ğ’Ÿ_v^{comb}", uniform_in_t: "n/a (no t)", dep_on_a: "depends on Î± in T_Î±"}
      - {name: "C_glob", origin: "Î£_v majorant", uniform_in_t: "n/a (no t)", dep_on_a: "depends on Î±; finite p by support of W"}
    asks: "Provide uniform constants and specify where blow-ups occur."

  checks_and_recipes:
    numerical_recipe: "Choose Î¦ so that W_Î¦ has compact u-support; compute a few local pairings numerically."
    symbolic_recipe: "Verify ğ’¬_MS(g)=ğ’œ+ğ’« by expanding local terms and comparing with standard EF blocks."
    pseudocode: |
      Input Î¦
      -> build W_Î¦(u)
      -> for v in places: compute L_v := âŸ¨ğ’Ÿ_v^{comb}, W_Î¦âŸ©
      -> return sum_v L_v, and split into arch/primes by v
    toy_numeric:
      alpha_X_choice: "Ä(x)=e^{-Î±x}Â·Ï‡_{(0,X]} with Î±=1/3, X=5"
      rhoW_integral: "âˆ«_0^âˆ (F_c W)(Î¾)Â·[âˆ’(1/Ï€) d/dÎ¾ (log Î“_R(1/2+iÎ¾)+log Î“_R(1/2âˆ’iÎ¾))] dÎ¾"
      prime_terms: "P(g)=Î£_p Î£_{kâ‰¥1} (log p)Â·W(kÂ·log p); if supp W âŠ† [0,X], restrict to kÂ·log p â‰¤ X (Example 8.1, Part IV)"
    asks: "Provide a canonical toy Î¦ to fix signs and constants."

  scope_and_unconditionality:
    unconditional: "Local/global holonomy construction and its identification with EF(geom.) appear unconditional under stated regularity."
    program_inputs:
      - {id: PI1, formal_statement: "Exact Fourier/Mellin dictionary constants", current_status: UNKNOWN, needed_for: "normalized comparisons", candidates_for_proof: "direct computation"}
      - {id: PI2, formal_statement: "Positivity conditions for chosen test class", current_status: UNKNOWN, needed_for: "applications to zero-free regions", candidates_for_proof: "variation of test profiles"}
    asks: "Offer a minimum viable theorem if regularity is weakened."

  limitations:
    items:
      - "Precise normalization choices at finite/arch places not fully documented here."
      - "Spectral (zeros) side not explicitly recorded in this part."
      - "Positivity status of each EF piece under W_Î¦ is undeclared."
    asks: "Give counterexamples when assumptions on Î¦ are weakened."

  projections:
    ideas:
      - "Port to GL(m) and general automorphic L-functions via higher-dimensional Heisenberg models."
      - "Quantify positivity to derive explicit zero-density or zero-free regions."
      - "Numerical holonomy samplers for ramified test data."
    asks: "Prioritize milestones and a verification plan (local constants; end-to-end EF check on Î¶)."
